---
title: "Issues"
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import { Image } from "astro:assets";
const issues = await getCollection('issues');
---

<Layout seo={{ title: "Issues", description: "List of issues with my CBH Home" }}>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-4">
      {issues
        .sort((a, b) => b.data.date - a.data.date) // newest first
        .map(v => (
          <a href={`/issues/${v.slug}/`} class="card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow duration-300 ease-in-out">
            <figure>
              <Image 
                src={v.data.cover}
                alt={v.data.title}
                width={560}
                height={315}
                class="w-full h-auto object-cover"
              />
            </figure>
            <div class="card-body">
              <h2 class="card-title">{v.data.title}</h2>
              <p class="text-sm text-base-content/70">{v.data.date.toLocaleDateString()}</p>
            </div>
          </a>
        ))}
    </div>
</Layout>